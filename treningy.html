<!DOCTYPE html>
<html lang="sk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tvoj tr√©ningov√Ω pl√°n</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

  <h1>Tvoj tr√©ningov√Ω pl√°n pre cieƒæ: <span id="nazovCielu"></span></h1>

  <div>
    <button id="variantA" class="variant-btn active" onclick="zmenVariant('A')">Variant A</button>
    <button id="variantB" class="variant-btn" onclick="zmenVariant('B')">Variant B</button>
  </div>

  <div id="plany"></div>
  <div id="odporucanie"></div>

  <a href="index.html">‚Üê Sp√§≈•</a>

  <script>
    const ciel = localStorage.getItem("ciel");
    const vaha = parseFloat(localStorage.getItem("vaha"));
    let aktualnyVariant = "A";

    // V√°≈° p√¥vodn√Ω objekt 'plany' (zost√°va nezmenen√Ω)
    const plany = {
      naberanie: {
        A: [
          {
            den: "Pondelok ‚Äì Hrudn√≠k + Triceps",
            cviky: [
              { nazov: "Bench press", popis: "≈§a≈æ≈°ia v√°ha, 6‚Äì8 opakovan√≠, v√Ωbu≈°ne hore. 4 s√©rie." },
              { nazov: "Kliky na bradl√°ch", popis: "Stredn√° v√°ha, 8‚Äì10 opakovan√≠. 3 s√©rie." },
              { nazov: "Franc√∫zsky tlak", popis: "Stredn√° v√°ha, 10 opakovan√≠. 3 s√©rie." }
            ]
          },
          {
            den: "Streda ‚Äì Chrb√°t + Biceps",
            cviky: [
              { nazov: "M≈ïtvy ≈•ah", popis: "≈§a≈æk√° v√°ha, 5‚Äì8 opakovan√≠. 3 s√©rie." },
              { nazov: "Pr√≠≈•ahy v predklone", popis: "Stredn√° v√°ha, 8‚Äì10 opakovan√≠. 4 s√©rie." },
              { nazov: "Biceps s ƒçinkami", popis: "Pomal√© tempo, 10‚Äì12 opakovan√≠. 3 s√©rie." }
            ]
          }
           ,
          {
            den: "Piatok ‚Äì Nohy + Ramen√°",
            cviky: [
              { nazov: "Drepy", popis: "≈§a≈æk√° v√°ha, 6‚Äì8 opakovan√≠. 4 s√©rie." },
              { nazov: "Tlaky na ramena v stoji", popis: "Stredn√° v√°ha, 8‚Äì10 opakovan√≠. 3 s√©rie." },
              { nazov: "V√Ωpony l√Ωtok", popis: "Pomal√© tempo, 15‚Äì20 opakovan√≠. 3 s√©rie." }
            ]
          }
        ],
        B: [
          {
            den: "Pondelok ‚Äì Cel√© Telo (Fullbody)",
            cviky: [
              { nazov: "Drepy", popis: "3 s√©rie, 10 opakovan√≠, stredn√° v√°ha." },
              { nazov: "Bench press", popis: "3 s√©rie, 10 opakovan√≠, stredn√° v√°ha." },
              { nazov: "Pr√≠≈•ahy jednoruƒçky", popis: "3 s√©rie, 12 opakovan√≠ na ruku." }
            ]
          },
          {
            den: "≈†tvrtok ‚Äì Cel√© Telo (Fullbody)",
            cviky: [
              { nazov: "M≈ïtvy ≈•ah", popis: "3 s√©rie, 5 opakovan√≠, ≈•a≈æ≈°ia v√°ha." },
              { nazov: "Tlaky nad hlavu", popis: "3 s√©rie, 10 opakovan√≠." },
              { nazov: "Biceps s ƒçinkami", popis: "3 s√©rie, 12 opakovan√≠." }
            ]
          }
        ]
      },
      chudnutie: {
        A: [
          {
            den: "Pondelok ‚Äì Kruhov√Ω tr√©ning (Vy≈°≈°√≠ tep)",
            cviky: [
              { nazov: "Drepy s vlastnou v√°hou", popis: "3 s√©rie, 20 opakovan√≠." },
              { nazov: "Kliky", popis: "3 s√©rie, max. opakovan√≠." },
              { nazov: "Angliƒç√°ky (Burpees)", popis: "3 s√©rie, 10 opakovan√≠, r√Ωchle tempo." }
            ]
          },
          {
            den: "Streda ‚Äì Silov√Ω tr√©ning + Kardio",
            cviky: [
              { nazov: "M≈ïtvy ≈•ah", popis: "3 s√©rie, 10 opakovan√≠, mierna v√°ha." },
              { nazov: "Tlaky na ramen√° v stoji", popis: "3 s√©rie, 12 opakovan√≠." },
              { nazov: "Beh", popis: "30 min√∫t, stredn√° intenzita." }
            ]
          },
          {
            den: "Piatok ‚Äì HIIT + Brucho",
            cviky: [
              { nazov: "Beh", popis: "20 min√∫t, striedanie 30s r√Ωchlo/60s pomaly." },
              { nazov: "Dreven√° doska (Plank)", popis: "3x 60 sek√∫nd." }
            ]
          }
        ],
        B: [
          {
            den: "Utorok ‚Äì Cel√© telo (Zameranie na nohy)",
            cviky: [
              { nazov: "V√Ωpady", popis: "3 s√©rie, 15 na nohu." },
              { nazov: "Bench press", popis: "3 s√©rie, 12 opakovan√≠, ƒæahk√° v√°ha." },
              { nazov: "Pr√≠≈•ahy s lanom", popis: "3 s√©rie, 15 opakovan√≠." }
            ]
          },
          {
            den: "≈†tvrtok ‚Äì Cel√© telo (Zameranie na horn√∫ ƒças≈•)",
            cviky: [
              { nazov: "Tlaky jednoruƒçiek", popis: "3 s√©rie, 12 opakovan√≠." },
              { nazov: "Tricepsov√© s≈•ahovanie", popis: "3 s√©rie, 15 opakovan√≠." },
              { nazov: "Biceps s ƒçinkami", popis: "3 s√©rie, 15 opakovan√≠." }
            ]
          }
        ]
      },
      udrzanie: {
        A: [
          {
            den: "Pondelok ‚Äì Fullbody (Silovo-kondiƒçn√Ω)",
            cviky: [
              { nazov: "Drepy", popis: "3 s√©rie, 10 opakovan√≠." },
              { nazov: "Bench press", popis: "3 s√©rie, 10 opakovan√≠." },
              { nazov: "M≈ïtvy ≈•ah", popis: "3 s√©rie, 8 opakovan√≠." }
            ]
          },
          {
            den: "≈†tvrtok ‚Äì Fullbody (Flexibilita + Vytrvalos≈•)",
            cviky: [
              { nazov: "Tlaky na ramena v stoji", popis: "3 s√©rie, 12 opakovan√≠." },
              { nazov: "Veslovanie", popis: "15 min√∫t, stabiln√© tempo." },
              { nazov: "J√≥ga/Streƒçing", popis: "15 min√∫t." }
            ]
          }
        ],
        B: [
          {
            den: "Utorok ‚Äì Telo a Kardio",
            cviky: [
              { nazov: "Pl√°vanie", popis: "30 min√∫t." },
              { nazov: "Kettlebell swing", popis: "3 s√©rie, 15 opakovan√≠." },
              { nazov: "Skracovaƒçky", popis: "4 s√©rie, 20 opakovan√≠." }
            ]
          },
          {
            den: "Piatok ‚Äì Telo a J√≥ga/Pilates",
            cviky: [
              { nazov: "Bicyklovanie", popis: "45 min√∫t." },
              { nazov: "Drepy s vlastnou v√°hou", popis: "3 s√©rie, 20 opakovan√≠." },
              { nazov: "Plank", popis: "3x 60 sek√∫nd." }
            ]
          }
        ]
      }
    };

    const odporucania = {
      naberanie: "Cviƒç 4‚Äì5 dn√≠ v t√Ω≈ædni, zameraj sa na progres√≠vne zvy≈°ovanie v√°h. Jedz v kalorickom nadbytku (+300 a≈æ +500 kcal).",
      chudnutie: "Cviƒç 3‚Äì4 dni v t√Ω≈ædni (Kardio + Silov√Ω). Jedz v kalorickom deficite (‚Äì300 a≈æ ‚Äì500 kcal). Zv√Ω≈° pr√≠jem bielkov√≠n.",
      udrzanie: "Cviƒç 3 dni v t√Ω≈ædni. Kombinuj silov√Ω tr√©ning s kardio a flexibilitou. Kal√≥rie udr≈æuj na √∫rovni baz√°lneho metabolizmu."
    };
    
    const nazvyCielov = {
        naberanie: "Naberanie svalovej hmoty",
        chudnutie: "Chudnutie a redukcia tuku",
        udrzanie: "Zosta≈• fit (udr≈æanie kond√≠cie)"
    };


    // Opraven√° funkcia (boli chyby v z√°tvork√°ch v p√¥vodnom k√≥de)
    function getCvikImage(nazov) {
      let nazovPreObrazok = nazov.toLowerCase()
        .replace(/ /g, '_')
        .replace(/ƒç/g, 'c')
        .replace(/√Ω/g, 'y')
        .replace(/√∫/g, 'u')
        .replace(/√°/g, 'a')
        .replace(/√©/g, 'e')
        .replace(/√≠/g, 'i')
        .replace(/ƒæ/g, 'l')
        .replace(/≈•/g, 't')
        .replace(/≈à/g, 'n')
        .replace(/≈°/g, 's')
        .replace(/≈æ/g, 'z')
        .replace(/√¥/g, 'o')
        .replace(/√§/g, 'a')
        .replace(/[^\w-]/g, '');

        if (nazov.toLowerCase().includes("m≈ïtvy ≈•ah")) return "mrtvy_tah.png";
        if (nazov.toLowerCase().includes("bench press")) return "bench_press.png";
        if (nazov.toLowerCase().includes("drepy")) return "drepy.png";
        if (nazov.toLowerCase().includes("tlaky nad hlavu")) return "tlaky_nad_hlavou.png"; 
        if (nazov.toLowerCase().includes("veslovanie")) return "veslovanie.png";
        if (nazov.toLowerCase().includes("j√≥ga")) return "joga.png";
        if (nazov.toLowerCase().includes("bicyklovanie(indoor/outdoor)")) return "bicyklovanie_outdoor_indoor.png";


      return `${nazovPreObrazok}.png`;
    }


    function zobrazPlan() {
      const planBox = document.getElementById("plany");
      const odporBox = document.getElementById("odporucanie");
      const nazovCieluElement = document.getElementById("nazovCielu");
      planBox.innerHTML = "";

      nazovCieluElement.textContent = nazvyCielov[ciel] || "Tr√©ningov√Ω pl√°n";

      if (ciel && plany[ciel] && plany[ciel][aktualnyVariant]) {

        plany[ciel][aktualnyVariant].forEach((den, j) => {

          const div = document.createElement("div");
          div.className = "plan";

          // Pridanie n√°zvu d≈àa
          div.innerHTML = `<h3>${den.den}</h3>`;

          den.cviky.forEach((c, i) => {
              const idVysledku = `vysledok-${ciel}-${aktualnyVariant}-${j}-${i}`;
              const nazovObrazku = getCvikImage(c.nazov);
              const triedaZarovnania = (i % 2 === 0) ? 'odd' : 'even'; // Striedanie tried

              setTimeout(() => {
                vypocitaj(c.nazov, idVysledku);
              }, 0);

              const cvikHTML = `
                <div class='cvik-container ${triedaZarovnania}'> 
                  
                  <div class="cvik-obrazok"> 
                    <p class="nazov-cviku-obrazok">${c.nazov}</p>
                    <img src="Galeria/${nazovObrazku}" alt="${c.nazov}">
                  </div>

                  <div class='cvik'>
                    <strong>${c.nazov}</strong><br>${c.popis}
                    <div id="${idVysledku}" class="vysledok-staticky"></div>
                  </div>
                  
                </div>
              `;
              
              div.innerHTML += cvikHTML;
          });

          planBox.appendChild(div);
        });

        odporBox.innerHTML = `
          <div class="odporucanie">
            <h2>Odpor√∫ƒçania</h2>
            <p>${odporucania[ciel]}</p>
          </div>`;
      }
    }

    function vypocitaj(nazov, vysId) {
      const vysledokElement = document.getElementById(vysId);
      const w = vaha;

      if (!vysledokElement) return;

      if (!w || w < 10 || w > 300) {
        vysledokElement.innerHTML = `<span style="color:red;">Zadaj platn√∫ hmotnos≈•.</span>`;
        return;
      }

      let multiplikator = 1.0;
      let nazovN = nazov.toLowerCase();

      if (nazovN.includes("drep") || nazovN.includes("v√Ωpady")) multiplikator = 1.5;
      else if (nazovN.includes("m≈ïtvy")) multiplikator = 1.75;
      else if (nazovN.includes("bench") || nazovN.includes("bradl√°ch")) multiplikator = 0.9;
      else if (nazovN.includes("tlaky nad hlavu")) multiplikator = 0.6;
      else if (nazovN.includes("biceps")) multiplikator = 0.35;
      else if (nazovN.includes("triceps") || nazovN.includes("franc√∫zsky")) multiplikator = 0.4;
      else if (nazovN.includes("pr√≠≈•ahy")) multiplikator = 0.7;

      const ideal = (w * multiplikator).toFixed(1);

      vysledokElement.innerHTML = `
        üèãÔ∏è‚Äç‚ôÇÔ∏è Odpor√∫ƒçan√° v√°ha pre cvik : <strong>${ideal} kg</strong> üí™üí•
      `;
    }

    function zmenVariant(variant) {
      aktualnyVariant = variant;
      document.getElementById("variantA").classList.toggle("active", variant === "A");
      document.getElementById("variantB").classList.toggle("active", variant === "B");
      zobrazPlan();
    }

    zobrazPlan();
  </script>

<p>
Inform√°cie s√∫ orientaƒçn√©. Pred cviƒçen√≠m sa poraƒè s tr√©nerom. Pou≈æ√≠va≈° na vlastn√© riziko.
</p>

</body>
</html>
